<!DOCTYPE html>
<html>
<head>
  <!-- Basic -->
  <meta charset="utf-8" />
  <!-- Mobile Metas -->
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <!-- Site Metas -->
  <meta name="keywords" content="" />
  <meta name="description" content="" />
  <meta name="author" content="" />

  <title>ProfitPro</title>

  <!-- bootstrap core css -->
    <!--Find out why this is not working-->
  <link rel="stylesheet" type="text/css" href="/index-css/bootstrap.css" />
  <link rel="stylesheet" type="text/css" href="adminPage_user_table.css" />

  <!-- fonts style -->
  <link href="https://fonts.googleapis.com/css?family=Roboto:400,700&display=swap" rel="stylesheet" />
  <!-- Custom styles for this template -->
  <link href="index-css/style.css" rel="stylesheet" />
  <!-- responsive style -->
  <link href="index-css/responsive.css" rel="stylesheet" />
</head>



<!--<script type='module' src='main.js'></script>-->



  <!--Beginning of Page content-->
<body>
  <div class="hero_area">
    <!-- header section starts -->
    <header class="header_section">
      <div class="container-fluid">
        <nav class="navbar navbar-expand-lg custom_nav-container ">
          <a class="navbar-brand" href="index.html">
            <span>
              ProfitPro
            </span>
          </a>
          <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>

            <!--Nav Bar creation-->

          <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <div class="d-flex ml-auto flex-column flex-lg-row align-items-center">
              <ul class="navbar-nav  ">
                <li class="nav-item active">
                    <!--Need a home-->
                  <a class="nav-link" href="index.html">Home </a>
                </li>
                <li class="nav-item ">
                  <a class="nav-link" href="bookkeeping.html"> Bookkeeping </a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="reports.html"> Reports </a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="#">
                    <span>User Settings</span> 
                  </a>
                </li>
                <li class="nav-item">
                  <!--Change later to only appear if user's account is
                    a Manager type-->
                  <a class="nav-link" href="adminPage.html"> Administrator <span class="sr-only">(current)</span></a>
                </li>
                  <!--Change later to only appear if user's account is
                    a Admin type-->
                <li class="nav-item">
                    <!--Change to be able to click on UsersName and change settings-->
                  <a class="nav-link" href="#" id='adminPage-userName'> User Name</a>
                </li>
               </ul>
              <div class="user_option">
                <form class="form-inline my-2 my-lg-0 ml-0 ml-lg-4 mb-3 mb-lg-0">
                  <button class="btn  my-2 my-sm-0 nav_search-btn" type="submit"></button>
                </form>
              </div>
            </div>
          </div>
        </nav>
      </div>
    </header>
    <!-- end header section -->

    <style>
           body { font-family: Arial, sans-serif; margin: 0; padding: 0; background-color: #f4f4f4; }
           header { background: blue; color: #ffffff;  text-align: center; }
           nav { margin-bottom: 10px }
           nav a { color: #ffffff; margin: 0 15px; text-decoration: none; }
           .container { width: 80%; margin: auto; overflow: hidden; }
           footer { background: blue; color: #ffffff; text-align: center; padding: 10px 0; position: relative; bottom: 0; width: 100%; }
           .administratorsection { display: flex; justify-content: space-around; margin: 20px 0; }
           .tab { overflow: hidden; border: 1px solid #ccc; background-color: #f1f1f1; }
           .tab button { background-color: inherit; float: left; border: none; outline: none; cursor: pointer; padding: 14px 16px; transition: 0.3s; }
           .tab button:hover { background-color: #ddd; }
           .tab button.active { background-color: #ccc; }
           .tabcontent { display: none; padding: 6px 12px; border: 1px solid #ccc; border-top: none; background-color: #f1f1f1; }
           fieldset { margin-bottom: 30px; }
           input { height: auto; display: block; width: 20%; margin: 5px; }
           input[id="bodyEmail"]{ width: 75%; padding: 60px; }
           tr { border-bottom: 1px solid black; width: 100%; }
           td { text-align: center; }
           table { width: 100%; }

       </style>

      <!--Auto open first tabe script, set all others to inactive-->

       <script>
         document.addEventListener("DOMContentLoaded", function() {
           document.getElementById("defaultOpen").click();
         });
           function openTab(evt, cityName) {
               var i, tabcontent, tablinks;
               tabcontent = document.getElementsByClassName("tabcontent");
               for (i = 0; i < tabcontent.length; i++) {
                   tabcontent[i].style.display = "none";
               }

               tablinks = document.getElementsByClassName("tablinks");
               for (i = 0; i < tablinks.length; i++) {
                   tablinks[i].className = tablinks[i].className.replace(" active", "");
               }

               document.getElementById(cityName).style.display = "block";
               evt.currentTarget.className += " active";
           }
       </script>



<!--Nav bar for the bookkeeping page	-->
    <div class="container">
           <section id="bookkeepersection">
               <h2>BookKeeping</h2>
               <div class="services">
                   <div class="tab">
                       <button class="tablinks" onclick="openTab(event, 'Account')" id="defaultOpen">Create Account</button>
                       <button class="tablinks" onclick="openTab(event, 'Modify_Account')">Modify Accounts</button>
                       <button class="tablinks" onclick="openTab(event, 'Delete_Account')">Delete Accounts</button>
                   </div>




<!--Need to make the table auto populated by API request and then done in




  script-->
<!--Script for autopopulating table with user information for Admin (may need to be used later)-->
  <!--<script>-->
  <!--  function show(id){-->
  <!--    document.getElementById(`${id}`).style.display = "inline-block";-->
  <!--    const buttons = document.getElementsByClassName('actionButton');-->
  <!--    for(let i = 0; i < buttons.length; i++){-->
  <!--      buttons[i].disabled = true;-->
  <!--      buttons[i].style.backgroundColor = '#A9A9A9';-->
  <!--    }-->
  <!--  }-->
  <!--  function hide(id){-->
  <!--    document.getElementById(`${id}`).style.display = "none";-->
  <!--    const buttons = document.getElementsByClassName('actionButton');-->
  <!--    for(let i = 0; i < buttons.length; i++){-->
  <!--      buttons[i].disabled = false;-->
  <!--      buttons[i].style.backgroundColor = '#4CAF50';-->
  <!--    }-->
  <!--  }-->
  <!--</script>-->



<!--Styling and divs for Users management page on AdminPage-->
  <div id="Account" class="tabcontent">
    <h3>Create Account</h3>
    <div id="mainContainer-accountCreation">

    <div class="ca-container">

    <style>
        :root {
            --primary-color: #3498db;
            --secondary-color: #2c3e50;
            --background-color: #ecf0f1;
            --text-color: #34495e;
            --border-color: #bdc3c7;
        }

        .caf body {
            font-family: 'Arial', sans-serif;
            line-height: 1.6;
            color: var(--text-color);
            background-color: var(--background-color);
            margin: 0;
            padding: 20px;
        }

        .ca-container {
            max-width: 1000px;
            margin: 0 auto;
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }

        .caf h1, h2 {
            color: var(--secondary-color);
            margin-bottom: 20px;
        }

        .caf form {
            display: grid;
            gap: 15px;
            margin-bottom: 30px;
        }

        .caf label {
            font-weight: bold;
        }

        .caf input, select, textarea {
            width: 100%;
            padding: 8px;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            font-size: 14px;
        }

        .caf button {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.3s;
            width: 100%;
          
        }

        .caf button:hover {
            background-color: #2980b9;
        }

        .caf table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            background-color: white;
        }

        .caf th, td {
            border: 1px solid var(--border-color);
            padding: 12px;
            text-align: left;
        }

        .caf th {
            background-color: var(--primary-color);
            color: white;
        }

        #accountsTable tbody tr:hover {
            background-color: #f5f5f5;
            cursor: pointer;
        }

        #ledgerView {
            display: none;
            margin-top: 30px;
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }

        #ledgerTitle {
            color: var(--primary-color);
            margin-bottom: 15px;
        }
    </style> 









        <h1>Chart of Accounts</h1>
                  <!--Change action link when deploying-->

  
        <form id="new-account-form-coa" class='caf' action="http://localhost:5001/profitpro-e81ab/us-central1/addAccountToCOA">
            <label class='caf' for="accountName">Account Name:</label>
            <input class='caf' type="text" id="accountName" name="accountName" required>

                    <br>
                    
            <label class='caf' for="accountNum">Account Number:</label>
            <input class='caf' type="text" id="accountNum" name="accountNum" placeholder="e.g. 100, 200, 300... " required>
                    
                    <br>

            <label class='caf' for="order">Account Order:</label>
            <input class='caf' type="text" id="order" name="order" placeholder="e.g. 1, 2, 3... " required>

                    <br>

            <label class='caf' for="accountDesc">Account Description:</label>
            <textarea id="accountDesc" class='caf' name="accountDesc" rows="3"></textarea>

                    <br>

            <label class='caf' for="accountCategory">Account Category:</label>
            <select id="accountCategory" class='caf' name="accountCategory" required>
                <option value="">Select category</option>
                <option value="Asset">Asset</option>
                <option value="Liability">Liability</option>
                <option value="Equity">Equity</option>
                <option value="Revenue">Revenue</option>
                <option value="Expense">Expense</option>
            </select>
                    <br><br>

            <label class='caf' for="accountSubCategory">Account Subcategory:</label>
            <input class='caf' type="text" id="accountSubCategory" name="accountSubCategory" placeholder="e.g., Current Assets">

                    <br>


            <label class='caf' for="normalSide">Normal Side:</label>
            <select id="normalSide" class='caf' name="normalSide" required>
                <option value="">Select normal side</option>
                <option value="Debit">Debit</option>
                <option value="Credit">Credit</option>
            </select>

                    <br>

            <hr>

                    <br>
            <h2 class='caf'>Ledger Information</h2>
                    <p style='color: grey;'>All monetary values must have proper comma sepeartion and at least two decimal places</p>

                    <br>
                    
  <!--const {accountName, accountNum, accountDesc, normalSide, accountCategory, accountSubCategory, initialBalance, debit, credit, balance, dateAdded, userId, order, statement, comment} = request.query;-->
            <label class='caf' for="initialBalance">Initial Balance:</label>
            <input class='caf' type="text" id="initialBalance" name="initialBalance" required>

                    <br>

            <label class='caf' for="balance">Current Balance:</label>
            <input class='caf' type="text" id="balance" name="balance" required>

                    <br>

            <label class='caf' for="debit">Debit:</label>
            <input class='caf' type="text" id="debit" name="debit" required>

                    <br>

            <label class='caf' for="credit">Credit:</label>
            <input class='caf' type="text" id="credit" name="credit" required>

                    <br>

            <label class='caf' for="statement">Statement Type:</label>
            <input class='caf' type="text" id="statement" name="statement"  placeholder="e.g. IS (Income statement), BS (Balance sheet), or RE (Retained Earnings statement)" required>

                    <br>
                        
            <label class='caf' for="comment">Comment:</label>
            <input class='caf' type="text" id="comment" name="comment" required>

                    <br>

            <label class='caf' for="dateAdded">Current Date:</label>
            <input class='caf' type="date" id="dateAdded" name="dateAdded" required>

                    <br>

            <label class='caf' for="userId">User Id:</label>
            <input class='caf' type="text" id="userId" name="userId" required>

                    <br>

            <button class='caf' type='submit'>Add Account</button>
        </form>
        <!---->
        <!--<h2 class='caf' >Accounts</h2>-->
        <!--<table id="accountsTable" class='caf' >-->
        <!--    <thead class='caf'>-->
        <!--        <tr class='caf' >-->
        <!--            <th class='caf'>Account Number</th>-->
        <!--            <th class='caf'>Account Name</th>-->
        <!--            <th class='caf'>Description</th>-->
        <!--            <th class='caf'>Normal Side</th>-->
        <!--            <th class='caf'>Category</th>-->
        <!--            <th class='caf'>Subcategory</th>-->
        <!--        </tr>-->
        <!--    </thead>-->
        <!--    <tbody class='caf'>-->
                <!-- Accounts will be added here dynamically -->
        <!--    </tbody>-->
        <!--</table>-->
        <!---->



  <script type="text/javascript" src="coa-js/jquery-3.4.1.min.js"></script>
  <script type="text/javascript" src="coa-js/bootstrap.js"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.min.js"></script>

  <!-- owl carousel script -->
  <script type="text/javascript">
    $(".owl-carousel").owlCarousel({
      loop: true,
      margin: 0,
      navText: [],
      center: true,
      autoplay: true,
      autoplayHoverPause: true,
      responsive: {
        0: {
          items: 1
        },
        1000: {
          items: 3
        }
      }
    });
  </script>





      <!-- Left: Searchable Table -->
<!--<style> #accountCreationContainer li{ display: inline;} </style>-->
<!--      <div id="accountCreationContainer">-->
<!---->
<!--                  <form id="createAccount" action="http://localhost:5001/profitpro-e81ab/us-central1/updateUserDoc" method="GET" style="display: inline-block; width: 500px;">-->
<!---->
<!--                    <span style="display: flex">-->
<!--                      <input type="text" id="accountName" name="accountName" required placeholder="Account Name" style="padding: 10px; width: 100%; margin-bottom: 10px; border-radius: 5px; border: 1px solid # ccc;">-->
<!--                      <input type="text" id="accountNum" name="accountNum" required placeholder="Account Number" style="padding: 10px; width: 100%; margin-bottom: 10px; border-radius: 5px; border: 1px solid #ccc;">-->
<!--                    </span>-->
<!---->
<!--                    <textarea type="text" id="description" required row="8" name="description" required placeholder="Description" style="padding: 10px; width: 100%; margin-bottom: 10px; border-radius: 5px; border: 1px solid #ccc; rows='8'; cols='10'"></textarea>-->
<!---->
<!--                    <span style="display: flex">-->
<!--                      <input type="text" id="accountCategory" name="accountCategory" required placeholder="Account Category" style="padding: 10px; width: 100%; margin-bottom: 10px; border-radius: 5px; border: 1px solid # ccc;">-->
<!--                      <input type="text" id="accountSubCategory" name="accountSubCategory" required placeholder="Account Sub-Category" style="padding: 10px; width: 100%; margin-bottom: 10px; border-radius: 5px; border: 1px solid #ccc;">-->
<!--                    </span>-->
<!---->
<!---->
<!--                    <span style="display: flex">-->
<!--                      <input type="text" id="debit" name="debit" required placeholder="Debit Amount" style="padding: 10px; width: 100%; margin-bottom: 10px; border-radius: 5px; border: 1px solid # ccc;">-->
<!--                      <input type="text" id="credit" name="credit" required placeholder="Credit Amount" style="padding: 10px; width: 100%; margin-bottom: 10px; border-radius: 5px; border: 1px solid #ccc;">-->
<!--                    </span>-->
<!---->
<!--                    <span style="display: flex">-->
<!--                      <input type="text" id="initialBalance" name="initialBalance" required placeholder="Initial Balance" style="padding: 10px; width: 100%; margin-bottom: 10px; border-radius: 5px; border: 1px solid # ccc;">-->
<!--                      <input type="text" id="balance" name="balance" required placeholder="Balance Amount" style="padding: 10px; width: 100%; margin-bottom: 10px; border-radius: 5px; border: 1px solid #ccc;">-->
<!--                    </span>-->
<!---->
<!---->
<!--                    <span style="display: flex">-->
<!--                      <input type="text" id="userId" name="userId" required placeholder="User ID" style="padding: 10px; width: 100%; margin-bottom: 10px; border-radius: 5px; border: 1px solid # ccc;">-->
<!--                      <input type="text" id="order" name="order" required placeholder="Order (e.g cash is 01)" style="padding: 10px; width: 100%; margin-bottom: 10px; border-radius: 5px; border: 1px solid #ccc;">-->
<!--                    </span>-->
<!---->
<!--                    <span style="display: flex; gap: 20px; align-items: flex-start;">-->
<!--                      <label>-->
<!--                        Statement Type <br>-->
<!--                        <select name="statement" id="statement" required style="padding: 10px; width: 100%; margin-bottom: 10px; border-radius: 5px; border: 1px solid #ccc;">-->
<!--                          <option value="" disabled selected>Select Statement Type</option>-->
<!--                          <option value="income_statement">IS (Income statement)</option>-->
<!--                          <option value="balance_sheet">BS (Balance sheet)</option>-->
<!--                          <option value="retained-earning-statement">RE (Retained Earning statement)</option>-->
<!--                        </select>-->
<!--                      </label>-->
<!---->
<!--                      <label>-->
<!--                        Date Added<br>-->
<!--                        <input type="date" id="dateAdded" name="dateAdded" required placeholder="Date of Creation" style="padding: 10px; width: 100%; margin-bottom: 10px; border-radius: 5px; border: 1px solid #ccc;">-->
<!--                      </label>-->
<!--                    </span>-->
<!---->
<!--                    <button type="submit" style="padding: 10px 20px; background-color: #4CAF50; color: white; border: none; border-radius: 5px; cursor: pointer;">Submit</button>-->
<!--                  </form>-->
<!---->

    <div id="popupOverlay" style="display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background-color: rgba(0, 0, 0, 0.5); z-index: 1;">
      <div style="position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background-color: white; padding: 20px; box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2); z-index: 2; border-radius: 5px; text-align: center;">
        <h2 id="popUpTitle">User Created</h2>
        <p id="popUpMessage">Account has been created for the Chart of Accounts</p>
        <button id="overlayButton" class="close-button" onclick="closePopup()" style="background-color: #4CAF50; color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer;">Close</button>
      </div>
    </div>


        <!--<style>-->
        <!--  .user-panel {-->
        <!--    width: 100%;-->
        <!--    border: 1px solid #ccc;-->
        <!--    border-radius: 5px;-->
        <!--    margin-bottom: 10px;-->
        <!--    overflow: hidden;-->
        <!--  }-->
        <!---->
        <!-- .user-title {-->
        <!--   padding: 10px;-->
        <!--   background-color: #f1f1f1;-->
        <!--   cursor: pointer;-->
        <!--   font-weight: bold;-->
        <!--   display: flex;-->
        <!--   justify-content: space-between;-->
        <!--   align-items: center;-->
        <!-- }-->
        <!---->
        <!-- .user-info {-->
        <!--   display: none; /* Initially hidden */-->
        <!--   padding: 10px;-->
        <!--   background-color: #fff;-->
        <!-- }-->
        <!---->
        <!-- .user-title .arrow {-->
        <!--   font-size: 12px;-->
        <!-- }-->
        <!---->
        <!-- .active .user-info {-->
        <!--   display: block;-->
        <!-- }-->
        <!---->
        <!-- .active .user-title .arrow {-->
        <!--   content: '\\9650'; /* Up arrow */-->
        <!-- }-->
        <!-- .active .user-title{-->
        <!--   background-color: #A9A9A9;-->
        <!---->
        <!-- }-->
        <!---->
        <!--</style>-->

        <!--<script>-->
        <!---->
        <!--  function togglePanel(element) {-->
        <!--    const allPanels = document.querySelectorAll('.user-panel');-->
        <!---->
        <!---->
        <!--    allPanels.forEach(panel => {-->
        <!--      if (panel !== element.parentElement) {-->
        <!--        panel.classList.remove('active');-->
        <!--      }-->
        <!--    });-->
        <!--    element.parentElement.classList.toggle('active');-->
      <!--    //based on what panel is selected, the email input in the update information form is populated with the current selected user's email-->
      <!--    const elements = document.getElementsByClassName('user-email');-->
      <!--    for(let i =0; i < elements.length; i++){-->
      <!--      elements[i].value = element.parentElement.querySelector('.user-email').textContent;-->
      <!--    }-->
      <!--  }-->
      <!---->
      <!--  </script>-->

    </div>

              <!--Will now be used for account is Created -->

<!--Create Account Information Form submission popup Confirmation-->

                <!--Create user Form-->

      <!--<form id='account-update' action="http://localhost:5001/profitpro-e81ab/us-central1/updateUserDoc" method="GET" style="display: none; width: auto;">-->
      <!--Popup Content -->
      <!--  <h4>Update Account</h4>-->
      <!--  <input type="hidden" id='user-email' class='user-email' name='email'>-->
      <!--  <input type="text" id="firstName" name="firstName"  placeholder="First Name" style="padding: 10px; width: 100%; margin-bottom: 10px; border-radius: 5px; border: 1px solid #ccc;">-->
      <!--  <input type="text" id="lastName" name="lastName"  placeholder="Last Name" style="padding: 10px; width: 100%; margin-bottom: 10px; border-radius: 5px; border: 1px solid #ccc;">-->
      <!--  <input type="email" id="email" name="changeEmail"  placeholder="Email" style="padding: 10px; width: 100%; margin-bottom: 10px; border-radius: 5px; border: 1px solid #ccc;">-->
      <!--  <input type="password" id="password" name="password"  placeholder="Password" style="padding: 10px; width: 100%; margin-bottom: 10px; border-radius: 5px; border: 1px solid #ccc;">-->
      <!--  <input type="text" id="address" name="address"  placeholder="Address" style="padding: 10px; width: 100%; margin-bottom: 10px; border-radius: 5px; border: 1px solid #ccc;">-->
      <!--  <input type="date" id="DOB" name="dateOfBirth" placeholder="Date of Birth"   style="padding: 10px; width: 100%; margin-bottom: 10px; border-radius: 5px; border: 1px solid #ccc;">-->
      <!--  <p>Security Question: What is your favorite color?</p>-->
      <!--  <input type="text" id="securityQuestion" name="securityQ"  placeholder="Answer to Security Question" style="padding: 10px; width: 100%; margin-bottom: 20px; border-radius: 5px; border: 1px solid #ccc;">-->
      <!--  <br>-->
      <!--  <hr>-->
      <!--  <span style="display: inline;">-->
      <!--    <button type="submit" style="padding: 10px 20px; background-color: #4CAF50; color: white; border: none; border-radius: 5px; cursor: pointer;">Submit</button>-->
      <!--    <button type='button' onclick='hide("account-update")' style="padding: 10px 20px; background-color: #cc3f35; color: white; border: none; border-radius: 5px; cursor: pointer;">Cancel</button>-->
      <!--  </span>-->
      <!--</form>-->
      <!---->

<!--End of Manage users Tab-->
  </div> 
</div>


  <!--Update with table from adminPage-->
  <div id="Modify_Account" class="tabcontent">

    <h3>Modify Account</h3>

    <div id="mainContainer-accountLedger">


    <!--Needs implementation-->


        <div id="ledgerView">
            <h2>Account Ledger</h2>
            <h3 id="ledgerTitle"></h3>
            <table id="ledgerTable">
                <thead>
                    <tr>
                        <th>Date</th>
                        <th>Description</th>
                        <th>Debit</th>
                        <th>Credit</th>
                        <th>Balance</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Ledger entries will be added here dynamically -->
                </tbody>
            </table>
        </div>
    </div>



  </div>

  <div id="Delete_Account" class="tabcontent">
    <h3>Delete Account</h3>

              <!--Needs implementation-->


    </div>
  </div>

      <!--<script>-->
      <!--  async function handleEmailSend(formId) {-->
      <!--    const form = document.getElementById(formId);-->
      <!---->
      <!--    form.addEventListener("submit", async function(event) {-->
      <!--      event.preventDefault();-->
      <!---->
      <!--      const input = new FormData(event.target);-->
      <!--      const queryParams = new URLSearchParams(input).toString();-->
      <!--      const url = `${event.target.action}?${queryParams}`;-->
      <!---->
      <!--      try {-->
      <!--        const API_response = await fetch(url, {-->
      <!--          method: "GET"-->
      <!--        });-->
      <!---->
      <!--        if (API_response.status === 200) {-->
      <!--          showEmailPopup();-->
      <!--        }-->
      <!--      } catch (e) {-->
      <!--        console.log(e);-->
      <!--      }-->
      <!---->
      <!--    });-->
      <!--  }-->
      <!---->
      <!--  function showEmailPopup() {-->
      <!--    document.getElementById('email-popupOverlay').style.display = 'block';-->
      <!--  }-->
      <!---->
      <!--  function closePopup() {-->
      <!--    document.getElementById('email-popupOverlay').style.display = 'none';-->
      <!--    location.reload(); // Refresh the page-->
      <!--  }-->
      <!---->
      <!--  document.addEventListener("DOMContentLoaded", function() {-->
      <!--    handleEmailSend('send-Email');-->
      <!--  });-->
      <!--</script>-->
      <!---->

  <div id="Expired-Password" class="tabcontent"> 
    <h3>Expired Passwords</h3>
    <div id='expired-password-list'>
    </div>

  </div>

      </div>

    <!-- footer section -->
    <section class="container-fluid footer_section">
      <p>
      &copy; ProfitPro LLC
      </p>
    </section>
    <!-- footer section -->
  </div>


  <!--Form handler script to stop the page from auto refreshing, as well as handling the response from the API to create an account -->
  <script>
  async function handleFormSubmission(formId) {
    const form = document.getElementById(`${formId}`);

    form.addEventListener("submit", async function(event) {
      event.preventDefault();
      console.log("form prevented");

      //input validation -----------------------------------------------------------------

      //Requirement 5: Account numbers should not have decimal spaces or alphanumeric values (also musst be a factor of 100)
      const num = document.getElementById("accountNum").value;
      const regex = /^[1-9][0-9]*00$/;

      if (!regex.test(num)) {
        console.error(`Account num does not match regex: ${num}`);
        document.getElementById("popUpTitle").innerHTML = "Account Creation Denied";
        document.getElementById("popUpMessage").innerHTML = "<h4>Account Number must:</h4> <ul style='list-style-type: none; text-align: center'> <li style='text-align: left;'>- Not have any decimals</li> <li style='text-align: left;'>- Be a multiple of 100 (100,200,300..)</li> <li style='text-align: left;'>- Not contain any letters</li></ul>";
        document.getElementById("overlayButton").style.backgroundColor = "#e33030";
        showPopup();
        return;
      }
      //End Requirement 5


      //Requirement 3: All monetary values must have two decimal spaces

        //monetary values in form: 

      const initBal = monetaryValidation(document.getElementById("initialBalance").value);
      const bal = monetaryValidation(document.getElementById("balance").value);
      const deb = monetaryValidation(document.getElementById("debit").value);
      const cred = monetaryValidation(document.getElementById("credit").value);

      //if value has proper comma placement and two decimal places returns true, else returns formatted value

      if (initBal !== true ){
        document.getElementById("initialBalance").value = initBal;

      }
      if (bal !== true ){
        document.getElementById("balance").value = bal;

      }
      if (deb !== true ){
        document.getElementById("debit").value = deb;

      }
      if (cred !== true ){
        document.getElementById("credit").value = cred;

      }

      //End Requirement 3





      //input validation -----------------------------------------------------------------


      const input = new FormData(event.target);
      const queryParams = new URLSearchParams(input).toString();
      const url = `${event.target.action}?${queryParams}`;

      try {
        const API_response = await fetch(url, {
          method: "GET"
        });

        const result = await API_response.json();

        const message = result.message;

        if (API_response.ok) {
          document.getElementById("popUpMessage").innerHTML = `${message}`;
          showPopup();
        }else{
          document.getElementById("popUpTitle").innerHTML = "Account Creation Denied";
          document.getElementById("popUpMessage").innerHTML = `${message}`;
          document.getElementById("overlayButton").style.backgroundColor = "#e33030";
          showPopup();
        }
      } catch (e) {
        console.log(e);
      }

    });
  }

  //script to show and close confirmation message "User has been created" 
  function showPopup() {
    document.getElementById('popupOverlay').style.display = 'block';
  }

  function closePopup() {
    document.getElementById('popupOverlay').style.display = 'none';
    location.reload(); // Refresh the page
  }

  function monetaryValidation(value){
    const commaValidation = /^(?!0\d)(\d{1,3}(,\d{3})*(\.\d{2})?)?$/;
    const decimalValidation = /^\d+\.\d{2}$/;

    if (commaValidation.test(value) && decimalValidation.test(value)){
      return true;

    }else{

      const val = parseFloat(value.replace(/,/g, ''));
      let validated = Intl.NumberFormat('en-US', {
        minimumFractionDigits: 2,
        maximumFractionDigits: 2,
      }).format(val);

      return validated;
    }
  }

  //reuses the form submission handler function for multiple tabs as each have forms
  document.addEventListener("DOMContentLoaded", function() {
    handleFormSubmission("new-account-form-coa");
  });
  </script>





  <script type="text/javascript" src="js-for-index/jquery-3.4.1.min.js"></script>
  <script type="text/javascript" src="js-for-index/bootstrap.js"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.min.js">
  </script>

</body>

</html>
